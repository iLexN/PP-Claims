'use strict';var url=new URL('./',self.location);var basePath=url.pathname;var pathRegexp=require('path-to-regexp');var Route=function(method,path,handler,options){if(path instanceof RegExp){this.fullUrlRegExp=path;}else{if(path.indexOf('/')!==0){path=basePath+path;}
this.keys=[];this.regexp=pathRegexp(path,this.keys);}
this.method=method;this.options=options;this.handler=handler;};Route.prototype.makeHandler=function(url){var values;if(this.regexp){var match=this.regexp.exec(url);values={};this.keys.forEach(function(key,index){values[key.name]=match[index+1];});}
return function(request){return this.handler(request,values,this.options);}.bind(this);};module.exports=Route;